<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto A-Frame</title>
    <!-- Load A-Frame first -->
    <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe@56d77f99494e01b6918612c526ae514f45d178a4/dist/aframe-master.min.js"></script>
    <!-- Load environment component -->
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
    <!-- Load teleport controls -->
    <script src="https://unpkg.com/aframe-teleport-controls@0.3.x/dist/aframe-teleport-controls.min.js"></script>
    <!-- Load hand tracking -->
    <script src="../../dist/aframe-hand-tracking-controls-extras-full.js"></script>
    <!-- Load custom component -->
    <script src="./components/obelisk.js"></script>
</head>
<body>
    <a-scene debug>
        <!-- Environment with ground -->
        <a-entity environment="preset: yavapai; ground: flat"></a-entity>

        <!-- Add a visible ground for teleportation -->
        <a-plane position="0 0 0" 
                 rotation="-90 0 0" 
                 width="40" 
                 height="40" 
                 color="#7BC8A4" 
                 visible="false"
                 class="teleportable">
        </a-plane>

        <!-- Obelisk entities with increased scale -->
        <a-entity position="6 1 -6" scale="1 1 1" obelisk="color: yellow; cubemap: assets/cubemaps/GamlaStan"></a-entity>
        <a-entity position="6 1 6" scale="1 1 1" obelisk="color: red; cubemap: assets/cubemaps/UnionSquare"></a-entity>
        <a-entity position="-6 1 6" scale="1 1 1" obelisk="color: blue; cubemap: assets/cubemaps/GamlaStan2"></a-entity>
        <a-entity position="-6 1 -6" scale="1 1 1" obelisk="color: green; cubemap: assets/cubemaps/Medborgarplatsen"></a-entity>

        <a-entity id="rig" position="0 0 0">
            <a-camera look-controls wasd-controls></a-camera>

            <a-entity id="left-hand" 
                      hand-tracking-controls="hand: left" 
                      hand-tracking-extras
                      hand-teleport="rig: #rig; origin: a-camera"
                      visible="true"
                      debug="true">
                <!-- Add teleport ray -->
                <a-entity raycaster="objects: .teleportable"
                          line="color: #FF0000; opacity: 0.5"></a-entity>
            </a-entity>

            <a-entity id="right-hand" 
                      hand-tracking-controls="hand: right" 
                      hand-tracking-extras 
                      drag-rotate="rig: #rig"
                      visible="true"
                      debug="true">
            </a-entity>
        </a-entity>
    </a-scene>
</body>
</html>